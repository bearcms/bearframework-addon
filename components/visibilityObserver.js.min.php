<?php
        
return <<<'EOT'
var bearCMS=bearCMS||{};bearCMS.visibilityObserver=bearCMS.visibilityObserver||function(){if(void 0!==window.addEventListener&&void 0!==document.querySelectorAll&&"undefined"!=typeof IntersectionObserver){var e=[],t=[],n=[],i=function(e,t){var n=e.getAttribute("data-visibility-event-"+t);if(null!==n&&null!==n)try{new Function(n).apply(e)}catch(e){}},r=["data-visibility-event-load","data-visibility-event-enter","data-visibility-event-leave","data-visibility-event-present"],a=r.length,o=new IntersectionObserver((function(e){for(var t in e){var r=e[t],a=r.target;r.isIntersecting?(-1===n.indexOf(a)&&(n.push(a),i(a,"present")),i(a,"enter")):-1!==n.indexOf(a)&&i(a,"leave")}})),v=function(){for(var n=0;n<a;n++)for(var v=r[n],d=document.querySelectorAll("["+v+"]"),s=0;s<d.length;s++){var u=d[s];-1===e.indexOf(u)&&(e.push(u),o.observe(u),-1===t.indexOf(u)&&(t.push(u),i(u,"load")))}},d=function(){"undefined"!=typeof MutationObserver&&new MutationObserver((function(){v()})).observe(document.querySelector("body"),{childList:!0,subtree:!0});v()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()}else v=function(){};return{run:v}}();
EOT;
