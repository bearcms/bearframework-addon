/*
 * Bear CMS addon for Bear Framework
 * https://bearcms.com/
 * Copyright (c) Amplilabs Ltd.
 * Free to use under the MIT license.
 */
var bearCMS=bearCMS||{};
bearCMS.forumPostReplyForm=function(){return{onBeforeSubmitForm:function(a){if("undefined"!==typeof ivoPetkov.bearFrameworkAddons&&"undefined"!==typeof ivoPetkov.bearFrameworkAddons.users){var b=ivoPetkov.bearFrameworkAddons.users;if(!b.currentUser.exists()){b.showLogin();a.preventDefault();return}}b=a.target.previousSibling.firstChild.id;a.target.querySelector('input[type="hidden"]').value=JSON.stringify({listElementID:b})},onSubmitFormDone:function(a){var b=a.target;a=a.result;"undefined"!==typeof a.success&&
b.reset();b=document.getElementById(a.listElementID);html5DOMDocument.insert(a.listContent);b.innerHTML=document.body.lastChild.innerHTML;document.body.lastChild.parentNode.removeChild(document.body.lastChild)},onFormRequestSent:function(a){a=a.target;a.querySelector(".bearcms-forum-post-page-send-button").style.display="none";a.querySelector(".bearcms-forum-post-page-send-button-waiting").style.display="inline-block";a.querySelector(".bearcms-forum-post-page-text").setAttribute("readonly","readonly")},
onFormResponseReceived:function(a){a=a.target;a.querySelector(".bearcms-forum-post-page-send-button").style.display="inline-block";a.querySelector(".bearcms-forum-post-page-send-button-waiting").style.display="none";a.querySelector(".bearcms-forum-post-page-text").removeAttribute("readonly")},onFocusTextarea:function(a){a=a.target.parentNode;"none"===a.querySelector(".bearcms-forum-post-page-send-button-waiting").style.display&&(a.querySelector(".bearcms-forum-post-page-send-button").style.display=
"inline-block")}}}();