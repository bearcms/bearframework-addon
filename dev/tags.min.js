/*
 * Bear CMS addon for Bear Framework
 * https://bearcms.com/
 * Copyright (c) Amplilabs Ltd.
 * Free to use under the MIT license.
 */

var bearCMS=bearCMS||{};bearCMS.tags=bearCMS.tags||function(){var t="data-bearcms-tags",n=function(n){if(null==n)return document.querySelector("html");if("string"==typeof n){if("#"===n.substring(0,1))return document.querySelector("["+t+'~="'+n.substring(1)+'"]')}else if("object"==typeof n){if(void 0!==n.tagName)return n;if(void 0!==n[0]&&void 0!==n[1]&&void 0!==n[0].tagName&&"string"==typeof n[1]){var e=n[0],u=n[1].split("#");if("parent"===u[0])for(;e.parentNode;){var i=e.getAttribute(t);if(null!==i){var l=i.split(" ");if(null!==r(u[1],l))return e}e=e.parentNode}else if("child"===u[0])return e.querySelector("["+t+'~="'+u[1]+'"]')}}return null},e=function(n){var e=n.getAttribute(t);return null!==e?e.split(" "):[]},r=function(t,n){var e=t.split("*");if(1===e.length)return-1!==n.indexOf(t)?t:null;if(e[0].length>0){for(var t of n)if(0===t.indexOf(e[0]))return t}else if(e[1].length>0)for(var t of n)if(t.substring(t.length-e[1].length)===e[1])return t;return null},u=function(n,e){0===(e=e.filter(function(t,n,e){return n===e.indexOf(t)})).length?n.removeAttribute(t):n.setAttribute(t,e.join(" "))},i=function(t,r){var i=n(r);if(null!==i){var l=e(i);return l.push(t),u(i,l),!0}return!1},l=function(t,u){var i=n(u);return null!==i&&null!==r(t,e(i))},f=function(t,i){var l=n(i);if(null!==l){var f=e(l),o=r(t,f),a=f.filter(function(t){return t!==o});u(l,a)}},o=function(){if("undefined"!=typeof bearcmsjft)for(var t=0;t<bearcmsjft.length;t++)for(var n=bearcmsjft[t],e=n[0],r=n[1],u=n[2],l=document.querySelectorAll(e),o=0;o<l.length;o++){var a=l[o];try{var c=new Function("return "+u)()}catch(t){c=null}try{var s=null!==c&&c(a)}catch(t){s=!1}s?i(r,a):f(r,a)}};return document.addEventListener("readystatechange",()=>{o()}),"complete"===document.readyState&&o(),{set:function(t,n){var e=i(t,n);return o(),e},exists:function(t,n){return l(t,n)},get:function(t,u){return function(t,u){var i=n(u);return null!==i?r(t,e(i)):null}(t,u)},remove:function(t,n){f(t,n),o()},toggle:function(t,n){!function(t,n){l(t,n)?f(t,n):i(t,n)}(t,n),o()},getList:function(t){var r=n(t);return null!==r?e(r):[]},getElement:n,update:function(){o()}}}();