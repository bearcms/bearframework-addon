var bearCMS=bearCMS||{};bearCMS.elementsEditor=bearCMS.elementsEditor||function(){var e=[],t=[],n=function(e){if(-1===t.indexOf(e)){t.push(e);var n=document.createElement("style");n.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(n)}},a=function(e){var t=e.getAttribute("class");return null!==t&&-1!==t.indexOf("bearcms-columns-element")},r=function(e){var t=e.getAttribute("class");return null!==t&&-1!==t.indexOf("bearcms-floating-box-element")},l=function(t){var a=t.getAttribute("data-bearcms-columns-widths");null!==a&&0!==a.length||(a=";");var r=a.split(";"),l=r.length,i="css-columns-widths-"+a;if(-1===e.indexOf(i)){for(var o=[],c=[],d=0,s=0;s<l;s++)0===r[s].length?d++:c.push(r[s]);c=c.join(" + ");for(s=0;s<l;s++){var u=r[s],h=-1!==u.indexOf("px");0===u.length&&(u=(0===c.length?"100%":"(100% - ("+c+"))")+"/"+d),o[s]=h?"flex:0 0 auto;width:"+u+";":"flex:1 0 auto;max-width:calc("+u+" - (var(--bearcms-elements-spacing)*"+(l-1)+"/"+l+"));"}var m='.bearcms-columns-element[data-bearcms-columns-widths="'+a+'"]',f="",v="";for(s=0;s<l;s++)f+=m+'[data-bearcms-columns-direction="horizontal"]>div:nth-child('+(s+1)+"){"+o[s]+"}",f+=m+'[data-bearcms-columns-direction="vertical"]:not([data-rvr-editable])>div:nth-child('+(s+1)+"):empty{display:none;}",f+=m+'[data-bearcms-columns-direction="vertical-reverse"]:not([data-rvr-editable])>div:nth-child('+(s+1)+"):empty{display:none;}",v+=":has(> div:nth-child("+(s+1)+"):empty)";n(f+=m+":not([data-rvr-editable])"+v+"{display:none;}"),e.push(i)}for(var b="data-bearcms-columns-element-original-column-index",g=t.childNodes;g.length<l;){var p=document.createElement("div");t.appendChild(p)}var x=[];for(s=0;s<l;s++)for(var y=g[s].childNodes,C=0;C<y.length;C++){var A=(E=y[C]).getAttribute(b);null!==(A=null!==A?parseInt(A,10):null)&&A>s&&x.push([E,A<l?A:l-1])}for(s=0;s<x.length;s++)g[x[s][1]].appendChild(x[s][0]);var w=g[l-1];for(s=l;s<g.length;s++)for(y=g[s].childNodes;y.length>0;){var E;null===(E=y[0]).getAttribute(b)&&E.setAttribute(b,s),w.appendChild(E)}for(;g.length>l;){var M=g[l];M.parentNode.removeChild(M)}},i=function(t){var a=t.getAttribute("data-bearcms-floating-box-width");null!==a&&0!==a.length||(a="50%");var r="css-floating-box-width-"+a;if(-1===e.indexOf(r)){for(var l="",i=["left","right"],o=0;o<i.length;o++){var c='.bearcms-floating-box-element[data-bearcms-floating-box-position="'+i[o]+'"][data-bearcms-floating-box-width="'+a+'"]>div:first-child';null!==a.match(/^[0-9\.]*%$/)&&"100%"!==a?l+=c+"{width:calc("+a+" - var(--bearcms-elements-spacing)/2);}":l+=c+"{width:"+a+";}"}n(l),e.push(r)}},o=function(e){for(var t=!1,n=0;n<e.length;n++){var l=e[n];if(a(l)||r(l)){t=!0;break}}if(t){try{cssToAttributes.run()}catch(e){}try{responsiveAttributes.run()}catch(e){}try{bearCMS.elementEvents.run()}catch(e){}}};return{styleEditorChange:function(e){o(e);for(var t=0;t<e.length;t++){var n=e[t];a(n)?l(n):r(n)&&i(n)}},styleEditorClose:function(e){o(e);for(var t=0;t<e.length;t++){var n=e[t];if(a(n))for(e=n.querySelectorAll("[data-bearcms-columns-element-original-column-index]"),t=0;t<e.length;t++)e[t].removeAttribute("data-bearcms-columns-element-original-column-index")}}}}();